{"version":3,"sources":["components/icons/assets/flag.svg","components/icons/assets/bomb.svg","utils/numbers.js","utils/game/board.js","features/game/slice.js","app/store.js","components/GameWrapper/GameWrapper.js","components/GameWrapper/index.js","components/CellGrid/CellGrid.js","components/CellGrid/index.js","components/icons/Image.js","components/icons/Flag.js","components/icons/Bomb.js","components/Cell/Cell.js","components/Cell/index.js","components/GithubCorner/index.js","components/GithubCorner/GithubCorner.js","components/Header/Header.js","components/Header/index.js","features/game/Header.js","features/game/Game.js","App.js","index.js"],"names":["module","exports","randomInt","exclusiveMax","min","max","inclusive","Math","ceil","floor","random","getRandomInt","range","result","i","abs","push","getSurroundingCoords","board","row","col","rowMax","length","colMax","results","r","c","createEmptyBoard","rows","cols","map","createCell","generateMineCoords","mineCount","safeR","safeC","set","Set","x","y","t","has","add","isMine","value","isFlagged","isRevealed","coords","key","revealBoardCell","cell","rx","cx","filter","forEach","initialState","mines","initialized","flags","gameOver","lost","slice","createSlice","name","reducers","newGame","state","action","payload","initialize","safeCoords","undefined","mineCoords","mine","generateBoard","revealCell","flatMap","every","checkWin","flagCell","actions","selectGame","game","selectHeader","configureStore","reducer","gameReducer","styled","GameWrapper","div","CellGrid","props","img","size","Flag","Image","src","flag","Bomb","bomb","textColors","Container","button","Number","span","number","BUTTON_SIZE","Mine","Visible","Cell","onClick","onRightClick","handleClick","e","handleRightClick","preventDefault","onContextMenu","GithubCorner","href","rel","target","className","aria-label","style","position","top","right","width","height","viewBox","fill","color","border","aria-hidden","d","transformOrigin","StatsContainer","ButtonContainer","Button","Text","Fill","Divider","hr","Header","onNewGameClick","difficulty","data","useSelector","dispatch","useDispatch","ng","Game","handleCellClick","handleCellRightClick","App","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.d35eb4aa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/flag.63ddae95.svg\";","module.exports = __webpack_public_path__ + \"static/media/bomb.4934d8d0.svg\";","export function randomInt(exclusiveMax) {\r\n  return getRandomInt(0, exclusiveMax)\r\n}\r\n\r\nfunction getRandomInt(min, max, inclusive = false) {\r\n  min = Math.ceil(min)\r\n  max = Math.floor(max)\r\n  return Math.floor(Math.random() * (max - min + (inclusive ? 1 : 0))) + min\r\n}\r\n\r\nexport function range(exclusiveMax) {\r\n  const result = []\r\n  for (let i = 0; i < Math.abs(exclusiveMax); i++) result.push(i)\r\n  return result\r\n}\r\n","import { randomInt, range } from 'utils/numbers'\r\n\r\nexport function generateBoard(\r\n  rows = 9,\r\n  cols = 9,\r\n  mines = 10,\r\n  safeCoords = undefined,\r\n) {\r\n  const board = createEmptyBoard(rows, cols)\r\n  const mineCoords = generateMineCoords(mines, rows, cols, safeCoords)\r\n  mineCoords.forEach(([row, col]) => {\r\n    board[row][col].isMine = true\r\n    board[row][col].value = null\r\n    getSurroundingCoords(board, row, col).forEach(([r, c]) => {\r\n      const cell = board[r][c]\r\n      if (!cell.mine) cell.value++\r\n    })\r\n  })\r\n  return board\r\n}\r\n\r\nexport function print(board) {\r\n  board.forEach((row) => {\r\n    const rowText = row\r\n      .map(({ isMine, value }) => {\r\n        if (isMine) return '[*]'\r\n        if (value === 0) return '[ ]'\r\n        return `[${value}]`\r\n      })\r\n      .join('')\r\n    console.log(rowText)\r\n  })\r\n}\r\n\r\nfunction getSurroundingCoords(board, row, col) {\r\n  const rowMax = board.length\r\n  const colMax = board[0].length\r\n  const results = []\r\n  for (let r = row - 1; r <= row + 1; r++) {\r\n    if (r < 0 || r >= rowMax) continue\r\n    for (let c = col - 1; c <= col + 1; c++) {\r\n      if (c < 0 || c >= colMax) continue\r\n      if (r === row && c === col) continue\r\n      results.push([r, c])\r\n    }\r\n  }\r\n  return results\r\n}\r\n\r\nexport function createEmptyBoard(rows = 9, cols = 9) {\r\n  return range(rows).map((r) => range(cols).map((c) => createCell(r, c)))\r\n}\r\n\r\nfunction generateMineCoords(mineCount, rows, cols, [safeR, safeC] = [-1, -1]) {\r\n  const results = []\r\n  const set = new Set()\r\n  while (results.length < mineCount) {\r\n    const x = randomInt(rows)\r\n    const y = randomInt(cols)\r\n    if (x === safeR && y === safeC) continue\r\n    const t = `${x},${y}`\r\n    if (set.has(t)) continue\r\n    set.add(t)\r\n    results.push([x, y])\r\n  }\r\n  return results\r\n}\r\n\r\nfunction createCell(row, col) {\r\n  return {\r\n    isMine: false,\r\n    value: 0,\r\n    isFlagged: false,\r\n    isRevealed: false,\r\n    coords: {\r\n      row,\r\n      col,\r\n      key: `${row},${col}`,\r\n    },\r\n  }\r\n}\r\n\r\nexport function getSize(board) {\r\n  return [board.length, board[0].length]\r\n}\r\n\r\nexport function revealBoardCell(board, row, col) {\r\n  const cell = board[row][col]\r\n  cell.isRevealed = true\r\n  if (cell.isMine) return true\r\n  if (cell.value === 0 && !cell.isFlagged && !cell.isMine) {\r\n    getSurroundingCoords(board, row, col)\r\n      .map(([rx, cx]) => board[rx][cx])\r\n      .filter((c) => !c.isFlagged && !c.isMine && !c.isRevealed)\r\n      .forEach((c) => {\r\n        revealBoardCell(board, c.coords.row, c.coords.col)\r\n      })\r\n  }\r\n  return false\r\n}\r\n\r\nexport function revealAllCells(board) {\r\n  board.forEach((row) => row.forEach((cell) => (cell.isRevealed = true)))\r\n}\r\n\r\nexport function checkWin(board) {\r\n  return board\r\n    .flatMap((cell) => cell)\r\n    .every((cell) => !cell.isMine && cell.isRevealed)\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport {\r\n  createEmptyBoard,\r\n  generateBoard,\r\n  revealBoardCell,\r\n  revealAllCells,\r\n  checkWin,\r\n} from 'utils/game/board'\r\n\r\nconst initialRows = 9\r\nconst initialCols = 9\r\nconst initialMines = 10\r\nconst emptyBoard = createEmptyBoard(initialRows, initialCols, initialMines)\r\n\r\nexport const initialState = {\r\n  board: emptyBoard,\r\n  rows: initialRows,\r\n  cols: initialCols,\r\n  mines: initialMines,\r\n  initialized: false,\r\n  flags: 0,\r\n  gameOver: false,\r\n  lost: false,\r\n}\r\n\r\nexport const slice = createSlice({\r\n  name: 'game',\r\n  initialState,\r\n  reducers: {\r\n    newGame(state, action) {\r\n      const {\r\n        rows = initialRows,\r\n        cols = initialCols,\r\n        mines = initialMines,\r\n      } = action.payload\r\n      state.initialized = false\r\n      state.board = createEmptyBoard(rows, cols)\r\n      state.mines = mines\r\n      state.rows = rows\r\n      state.cols = cols\r\n    },\r\n    initialize(state, action) {\r\n      const { rows, cols, mines, initialized } = state\r\n      if (initialized) return\r\n      const { row, col } = action.payload\r\n      state.initialized = true\r\n      state.board = generateBoard(rows, cols, mines, [row, col])\r\n      revealBoardCell(state.board, row, col)\r\n    },\r\n    revealCell(state, action) {\r\n      const { row, col } = action.payload\r\n      const cell = state.board[row][col]\r\n      if (cell.isFlagged) {\r\n        state.flags--\r\n      }\r\n      if (revealBoardCell(state.board, row, col)) {\r\n        revealAllCells(state.board)\r\n        state.gameOver = true\r\n        state.lost = true\r\n      } else if (checkWin(state.board)) {\r\n        state.gameOver = true\r\n        state.lost = false\r\n      }\r\n    },\r\n    flagCell(state, action) {\r\n      const { row, col } = action.payload\r\n      const cell = state.board[row][col]\r\n      if (cell.isRevealed) return\r\n      state.flags += cell.isFlagged ? -1 : 1\r\n      cell.isFlagged = !cell.isFlagged\r\n    },\r\n  },\r\n})\r\n\r\nexport const { initialize, newGame, revealCell, flagCell } = slice.actions\r\n\r\nexport function selectGame(state) {\r\n  const { rows, cols, initialized, board } = state.game\r\n  return { rows, cols, initialized, board }\r\n}\r\n\r\nexport function selectHeader(state) {\r\n  const { rows, cols, mines, flags } = state.game\r\n  return { rows, cols, mines, flags }\r\n}\r\n\r\nexport default slice.reducer\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport gameReducer from 'features/game/slice'\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    game: gameReducer,\r\n  },\r\n})\r\n","import styled from 'styled-components'\r\n\r\nexport default styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: center;\r\n`\r\n","import GameWrapper from './GameWrapper'\r\n\r\nexport default GameWrapper\r\n","import styled from 'styled-components'\r\n\r\nconst Grid = styled.div`\r\n  display: grid;\r\n  grid-template-rows: repeat(${(props) => props.rows}, 1fr);\r\n  grid-template-columns: repeat(${(props) => props.cols}, 1fr);\r\n  grid-gap: 1px;\r\n  width: fit-content;\r\n  background-color: #bbb;\r\n  border: #bbb solid 1px;\r\n  margin: 10px;\r\n`\r\n\r\nexport default Grid","import CellGrid from './CellGrid'\r\n\r\nexport default CellGrid\r\n","import styled from 'styled-components'\r\n\r\nexport default styled.img`\r\n  width: ${props => props.size}px;\r\n  height: ${props => props.size}px\r\n`","import React from 'react'\r\nimport Image from './Image'\r\nimport flag from './assets/flag.svg'\r\n\r\nexport default function Flag({ size }) {\r\n  return <Image size={size} src={flag} />\r\n}\r\n","import React from 'react'\r\nimport Image from './Image'\r\nimport bomb from './assets/bomb.svg'\r\n\r\nexport default function Bomb({ size }) {\r\n  return <Image size={size} src={bomb} />\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport FlagIcon from 'components/icons/Flag'\r\nimport BombIcon from 'components/icons/Bomb'\r\n\r\nconst textColors = [\r\n  null,\r\n  '#0C01FB',\r\n  '#048004',\r\n  '#FD0302',\r\n  '#030181',\r\n  '#800402',\r\n  '#028080',\r\n  '#000000',\r\n  '#808080',\r\n]\r\n\r\nconst BUTTON_SIZE = 26\r\n\r\nconst Container = styled.button`\r\n  width: ${BUTTON_SIZE}px;\r\n  height: ${BUTTON_SIZE}px;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 1rem;\r\n  border: 0;\r\n  outline: 0;\r\n  background-color: ${(props) => (props.isRevealed ? '#ccc' : '#eee')};\r\n  cursor: pointer;\r\n  :hover {\r\n    background-color: ${(props) => (props.isRevealed ? '#ccc' : '#ddd')};\r\n  }\r\n  :active {\r\n    background-color: #ccc;\r\n  }\r\n`\r\n\r\nconst Number = styled.span`\r\n  color: ${(props) => textColors[props.number]};\r\n  font-weight: bold;\r\n  font-family: 'Open Sans';\r\n`\r\n\r\nfunction Flag(props) {\r\n  return (\r\n    <Container {...props}>\r\n      <FlagIcon size={BUTTON_SIZE - 4} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nfunction Mine(props) {\r\n  return (\r\n    <Container isRevealed {...props}>\r\n      <BombIcon size={BUTTON_SIZE - 4} />\r\n    </Container>\r\n  )\r\n}\r\n\r\nfunction Visible({ value, ...props }) {\r\n  if (value === 0 || typeof value === 'undefined')\r\n    return <Container isRevealed {...props} />\r\n  return (\r\n    <Container isRevealed {...props}>\r\n      <Number number={value}>{value}</Number>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default function Cell({\r\n  value,\r\n  isMine = false,\r\n  isFlagged = false,\r\n  isRevealed = false,\r\n  onClick = () => {},\r\n  onRightClick = () => {},\r\n}) {\r\n  function handleClick(e) {\r\n    onClick({ value, isMine, isFlagged, isRevealed })\r\n  }\r\n\r\n  function handleRightClick(e) {\r\n    e.preventDefault()\r\n    onRightClick({ value, isMine, isFlagged, isRevealed })\r\n  }\r\n\r\n  if (!isRevealed && isFlagged) {\r\n    return <Flag onClick={handleClick} onContextMenu={handleRightClick} />\r\n  } else if (isRevealed && isMine) {\r\n    return <Mine onClick={handleClick} onContextMenu={handleRightClick} />\r\n  } else if (isRevealed) {\r\n    return (\r\n      <Visible\r\n        onClick={handleClick}\r\n        value={value}\r\n        onContextMenu={handleRightClick}\r\n      />\r\n    )\r\n  } else {\r\n    return <Container onClick={handleClick} onContextMenu={handleRightClick} />\r\n  }\r\n}\r\n","import Cell from './Cell'\r\n\r\nexport default Cell\r\n","import GithubCorner from './GithubCorner'\r\n\r\nexport default GithubCorner\r\n","import React from 'react'\r\nimport './GithubCorner.css'\r\n\r\nexport default function GithubCorner() {\r\n  return (\r\n    <a\r\n      href=\"http://github.com/curtisrutland/minesweeper\"\r\n      rel=\"noopener noreferrer\"\r\n      target=\"_blank\"\r\n      className=\"github-corner\"\r\n      aria-label=\"View source on GitHub\"\r\n      style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        right: 0,\r\n      }}\r\n    >\r\n      <svg\r\n        width=\"80\"\r\n        height=\"80\"\r\n        viewBox=\"0 0 250 250\"\r\n        style={{\r\n          fill: '#151513',\r\n          color: '#fff',\r\n          position: 'absolute',\r\n          top: 0,\r\n          border: 0,\r\n          right: 0,\r\n        }}\r\n        aria-hidden=\"true\"\r\n      >\r\n        <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path>\r\n        <path\r\n          d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"\r\n          fill=\"currentColor\"\r\n          style={{ transformOrigin: '130px 106px' }}\r\n          className=\"octo-arm\"\r\n        ></path>\r\n        <path\r\n          d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"\r\n          fill=\"currentColor\"\r\n          className=\"octo-body\"\r\n        ></path>\r\n      </svg>\r\n    </a>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-flow: column;\r\n  width: 600px;\r\n  border-radius: 4px;\r\n  border: 1px solid #ccc;\r\n  padding: 4px;\r\n  align-items: center;\r\n  margin: 10px;\r\n`\r\n\r\nconst StatsContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  grid-template-rows: 1fr;\r\n  font-size: 0.85rem;\r\n  text-align: center;\r\n  padding: 4px;\r\n  width: 100%;\r\n`\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  font-size: 0.8rem;\r\n`\r\n\r\nconst Button = styled.button`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 0;\r\n  outline: 0;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  padding: 4px;\r\n  margin: 4px;\r\n  font-family: 'Open Sans';\r\n`\r\n\r\nconst Text = styled.div`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 4px;\r\n  margin: 4px;\r\n  font-family: 'Open Sans';\r\n`\r\n\r\nconst Fill = styled.div`\r\n  flex-grow: 1;\r\n`\r\n\r\nconst Divider = styled.hr`\r\n  width: 100%;\r\n  color: #ccc;\r\n  margin: 2px;\r\n`\r\n\r\nexport default function Header({\r\n  rows,\r\n  cols,\r\n  mines,\r\n  flags,\r\n  onNewGameClick = () => {},\r\n}) {\r\n  function handleClick(difficulty) {\r\n    onNewGameClick(difficulty)\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <StatsContainer>\r\n        <div>Rows: {rows}</div>\r\n        <div>Cols: {cols}</div>\r\n        <div>Mines: {mines}</div>\r\n        <div>Flags: {flags}</div>\r\n      </StatsContainer>\r\n      <Divider />\r\n      <ButtonContainer>\r\n        <Fill />\r\n        <Text>New:</Text>\r\n        <Button onClick={() => handleClick('beginner')}>Beginner</Button>\r\n        <Button onClick={() => handleClick('intermediate')}>\r\n          Intermediate\r\n        </Button>\r\n        <Button onClick={() => handleClick('expert')}>Expert</Button>\r\n        <Fill />\r\n      </ButtonContainer>\r\n    </Container>\r\n  )\r\n}\r\n","import Header from './Header'\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport HeaderComponent from 'components/Header'\r\nimport { selectHeader, newGame } from './slice'\r\n\r\nexport default function Header() {\r\n  const data = useSelector(selectHeader)\r\n  const dispatch = useDispatch()\r\n\r\n  function ng(rows, cols, mines) {\r\n    return newGame({ rows, cols, mines })\r\n  }\r\n\r\n  function handleNewGame(difficulty) {\r\n    switch (difficulty) {\r\n      case 'intermediate':\r\n        dispatch(ng(16, 16, 40))\r\n        break\r\n      case 'expert':\r\n        dispatch(ng(16, 30, 99))\r\n        break\r\n      default:\r\n        dispatch(ng(9, 9, 10))\r\n    }\r\n  }\r\n  return <HeaderComponent {...data} onNewGameClick={handleNewGame} />\r\n}\r\n","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport GameWrapper from 'components/GameWrapper'\r\nimport CellGrid from 'components/CellGrid'\r\nimport Cell from 'components/Cell'\r\nimport GithubCorner from 'components/GithubCorner'\r\nimport Header from './Header'\r\nimport { selectGame, initialize, revealCell, flagCell } from './slice'\r\n\r\nexport default function Game() {\r\n  const { board, initialized, cols, rows } = useSelector(selectGame)\r\n  const dispatch = useDispatch()\r\n\r\n  function handleCellClick(cell) {\r\n    return function () {\r\n      const { row, col } = cell.coords\r\n      if (!initialized) dispatch(initialize({ row, col }))\r\n      else dispatch(revealCell({ row, col }))\r\n    }\r\n  }\r\n\r\n  function handleCellRightClick(cell) {\r\n    return function () {\r\n      const { row, col } = cell.coords\r\n      if (!initialized) return\r\n      dispatch(flagCell({ row, col }))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <GameWrapper>\r\n      <GithubCorner />\r\n      <Header />\r\n      <CellGrid rows={rows} cols={cols}>\r\n        {board\r\n          .flatMap((c) => c)\r\n          .map((cell) => (\r\n            <Cell\r\n              key={cell.coords.key}\r\n              onClick={handleCellClick(cell)}\r\n              onRightClick={handleCellRightClick(cell)}\r\n              {...cell}\r\n            />\r\n          ))}\r\n      </CellGrid>\r\n    </GameWrapper>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Game from 'features/game/Game'\r\n\r\nexport default function App() {\r\n  return <Game />\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport store from 'app/store'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n)\r\n"],"sourceRoot":""}