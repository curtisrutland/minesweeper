(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{17:function(n,e,t){n.exports=t.p+"static/media/flag.2dbeae25.svg"},18:function(n,e,t){n.exports=t.p+"static/media/bomb.5d5e9d0a.svg"},20:function(n,e,t){n.exports=t(33)},32:function(n,e,t){},33:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(8),o=t.n(i),c=t(4),l=t(9),u=t(7);function s(n){return function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n+(t?1:0)))+n}(0,n)}function f(n){for(var e=[],t=0;t<Math.abs(n);t++)e.push(t);return e}function d(n,e,t){for(var r=n.length,a=n[0].length,i=[],o=e-1;o<=e+1;o++)if(!(o<0||o>=r))for(var c=t-1;c<=t+1;c++)c<0||c>=a||o===e&&c===t||i.push([o,c]);return i}function v(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;return f(n).map((function(n){return f(e).map((function(e){return g(n,e)}))}))}function m(n,e,t){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[-1,-1],a=Object(u.a)(r,2),i=a[0],o=a[1],c=[],l=new Set;c.length<n;){var f=s(e),d=s(t);if(f!==i||d!==o){var v="".concat(f,",").concat(d);l.has(v)||(l.add(v),c.push([f,d]))}}return c}function g(n,e){return{isMine:!1,value:0,isFlagged:!1,isRevealed:!1,coords:{row:n,col:e,key:"".concat(n,",").concat(e)}}}function p(n,e,t){var r=n[e][t];return r.isRevealed=!0,!!r.isMine||(0!==r.value||r.isFlagged||r.isMine||d(n,e,t).map((function(e){var t=Object(u.a)(e,2),r=t[0],a=t[1];return n[r][a]})).filter((function(n){return!n.isFlagged&&!n.isMine&&!n.isRevealed})).forEach((function(e){p(n,e.coords.row,e.coords.col)})),!1)}var b={board:v(9,9,10),rows:9,cols:9,mines:10,initialized:!1,flags:0,gameOver:!1,lost:!1},w=Object(l.b)({name:"game",initialState:b,reducers:{newGame:function(n,e){var t=e.payload,r=t.rows,a=void 0===r?9:r,i=t.cols,o=void 0===i?9:i,c=t.mines,l=void 0===c?10:c;n.initialized=!1,n.board=v(a,o),n.mines=l,n.rows=a,n.cols=o},initialize:function(n,e){var t=n.rows,r=n.cols,a=n.mines;if(!n.initialized){var i=e.payload,o=i.row,c=i.col;n.initialized=!0,n.board=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=v(n,e),i=m(t,n,e,r);return i.forEach((function(n){var e=Object(u.a)(n,2),t=e[0],r=e[1];a[t][r].isMine=!0,a[t][r].value=null,d(a,t,r).forEach((function(n){var e=Object(u.a)(n,2),t=e[0],r=e[1],i=a[t][r];i.mine||i.value++}))})),a}(t,r,a,[o,c]),p(n.board,o,c)}},revealCell:function(n,e){var t=e.payload,r=t.row,a=t.col;n.board[r][a].isFlagged&&n.flags--,p(n.board,r,a)?(n.board.forEach((function(n){return n.forEach((function(n){return n.isRevealed=!0}))})),n.gameOver=!0,n.lost=!0):function(n){return n.flatMap((function(n){return n})).every((function(n){return!n.isMine&&n.isRevealed}))}(n.board)&&(n.gameOver=!0,n.lost=!1)},flagCell:function(n,e){var t=e.payload,r=t.row,a=t.col,i=n.board[r][a];i.isRevealed||(n.flags+=i.isFlagged?-1:1,i.isFlagged=!i.isFlagged)}}}),h=w.actions,E=h.initialize,x=h.newGame,O=h.revealCell,j=h.flagCell;function k(n){var e=n.game;return{rows:e.rows,cols:e.cols,initialized:e.initialized,board:e.board}}function y(n){var e=n.game;return{rows:e.rows,cols:e.cols,mines:e.mines,flags:e.flags}}var C=w.reducer,M=Object(l.a)({reducer:{game:C}}),z=t(1),R=t(2);function F(){var n=Object(z.a)(["\n  width: 100%;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n"]);return F=function(){return n},n}var S=R.a.div(F());function G(){var n=Object(z.a)(["\n  display: grid;\n  grid-template-rows: repeat(",", 1fr);\n  grid-template-columns: repeat(",", 1fr);\n  grid-gap: 1px;\n  width: fit-content;\n  background-color: #bbb;\n  border: #bbb solid 1px;\n  margin: 10px;\n"]);return G=function(){return n},n}var B=R.a.div(G(),(function(n){return n.rows}),(function(n){return n.cols})),N=t(19);function D(){var n=Object(z.a)(["\n  width: ","px;\n  height: ","px\n"]);return D=function(){return n},n}var I=R.a.img(D(),(function(n){return n.size}),(function(n){return n.size})),J=t(17),q=t.n(J);function A(n){var e=n.size;return a.a.createElement(I,{size:e,src:q.a})}var H=t(18),K=t.n(H);function L(n){var e=n.size;return a.a.createElement(I,{size:e,src:K.a})}function P(){var n=Object(z.a)(["\n  color: ",";\n  font-weight: bold;\n  font-family: 'Open Sans';\n"]);return P=function(){return n},n}function Q(){var n=Object(z.a)(["\n  width: ","px;\n  height: ","px;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n  font-size: 1rem;\n  border: 0;\n  outline: 0;\n  background-color: ",";\n  cursor: pointer;\n  :hover {\n    background-color: ",";\n  }\n  :active {\n    background-color: #ccc;\n  }\n"]);return Q=function(){return n},n}var T=[null,"#0C01FB","#048004","#FD0302","#030181","#800402","#028080","#000000","#808080"],U=R.a.button(Q(),26,26,(function(n){return n.isRevealed?"#ccc":"#eee"}),(function(n){return n.isRevealed?"#ccc":"#ddd"})),V=R.a.span(P(),(function(n){return T[n.number]}));function W(n){return a.a.createElement(U,n,a.a.createElement(A,{size:22}))}function X(n){return a.a.createElement(U,Object.assign({isRevealed:!0},n),a.a.createElement(L,{size:22}))}function Y(n){var e=n.value,t=Object(N.a)(n,["value"]);return 0===e||"undefined"===typeof e?a.a.createElement(U,Object.assign({isRevealed:!0},t)):a.a.createElement(U,Object.assign({isRevealed:!0},t),a.a.createElement(V,{number:e},e))}var Z=function(n){var e=n.value,t=n.isMine,r=void 0!==t&&t,i=n.isFlagged,o=void 0!==i&&i,c=n.isRevealed,l=void 0!==c&&c,u=n.onClick,s=void 0===u?function(){}:u,f=n.onRightClick,d=void 0===f?function(){}:f;function v(n){s({value:e,isMine:r,isFlagged:o,isRevealed:l})}function m(n){n.preventDefault(),d({value:e,isMine:r,isFlagged:o,isRevealed:l})}return!l&&o?a.a.createElement(W,{onClick:v,onContextMenu:m}):l&&r?a.a.createElement(X,{onClick:v,onContextMenu:m}):l?a.a.createElement(Y,{onClick:v,value:e,onContextMenu:m}):a.a.createElement(U,{onClick:v,onContextMenu:m})};function $(){var n=Object(z.a)(["\n  width: 100%;\n  color: #ccc;\n  margin: 2px;\n"]);return $=function(){return n},n}function _(){var n=Object(z.a)(["\n  flex-grow: 1;\n"]);return _=function(){return n},n}function nn(){var n=Object(z.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n  padding: 4px;\n  margin: 4px;\n  font-family: 'Open Sans';\n"]);return nn=function(){return n},n}function en(){var n=Object(z.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n  border: 0;\n  outline: 0;\n  background-color: transparent;\n  cursor: pointer;\n  padding: 4px;\n  margin: 4px;\n  font-family: 'Open Sans';\n"]);return en=function(){return n},n}function tn(){var n=Object(z.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  font-size: 0.8rem;\n"]);return tn=function(){return n},n}function rn(){var n=Object(z.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-template-rows: 1fr;\n  font-size: 0.85rem;\n  text-align: center;\n  padding: 4px;\n  width: 100%;\n"]);return rn=function(){return n},n}function an(){var n=Object(z.a)(["\n  display: flex;\n  flex-flow: column;\n  width: 600px;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  padding: 4px;\n  align-items: center;\n  margin: 10px;\n"]);return an=function(){return n},n}var on=R.a.div(an()),cn=R.a.div(rn()),ln=R.a.div(tn()),un=R.a.button(en()),sn=R.a.div(nn()),fn=R.a.div(_()),dn=R.a.hr($());var vn=function(n){var e=n.rows,t=n.cols,r=n.mines,i=n.flags,o=n.onNewGameClick,c=void 0===o?function(){}:o;function l(n){c(n)}return a.a.createElement(on,null,a.a.createElement(cn,null,a.a.createElement("div",null,"Rows: ",e),a.a.createElement("div",null,"Cols: ",t),a.a.createElement("div",null,"Mines: ",r),a.a.createElement("div",null,"Flags: ",i)),a.a.createElement(dn,null),a.a.createElement(ln,null,a.a.createElement(fn,null),a.a.createElement(sn,null,"New:"),a.a.createElement(un,{onClick:function(){return l("beginner")}},"Beginner"),a.a.createElement(un,{onClick:function(){return l("intermediate")}},"Intermediate"),a.a.createElement(un,{onClick:function(){return l("expert")}},"Expert"),a.a.createElement(fn,null)))};function mn(){var n=Object(c.c)(y),e=Object(c.b)();function t(n,e,t){return x({rows:n,cols:e,mines:t})}return a.a.createElement(vn,Object.assign({},n,{onNewGameClick:function(n){switch(n){case"intermediate":e(t(16,16,40));break;case"expert":e(t(16,30,99));break;default:e(t(9,9,10))}}}))}function gn(){var n=Object(c.c)(k),e=n.board,t=n.initialized,r=n.cols,i=n.rows,o=Object(c.b)();function l(n){return function(){var e=n.coords,r=e.row,a=e.col;o(t?O({row:r,col:a}):E({row:r,col:a}))}}function u(n){return function(){var e=n.coords,r=e.row,a=e.col;t&&o(j({row:r,col:a}))}}return a.a.createElement(S,null,a.a.createElement(mn,null),a.a.createElement(B,{rows:i,cols:r},e.flatMap((function(n){return n})).map((function(n){return a.a.createElement(Z,Object.assign({key:n.coords.key,onClick:l(n),onRightClick:u(n)},n))}))))}function pn(){return a.a.createElement(gn,null)}t(32);o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(c.a,{store:M},a.a.createElement(pn,null))),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.fcfaa9af.chunk.js.map